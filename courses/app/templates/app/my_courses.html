{% extends 'app/base.html' %}

{% block title %}My Courses{% endblock %}

{% block content %}

{% load markdown_tags %}

<div class="block p-3">
 <h1 class="title">
  My Courses
 </h1>
 <p class="is-family-secondary">This is a list of all of the courses that you are currently enrolled in.</p>
</div>

{% for c in courses %}

<div class="box">
 <h2 class="subtitle"><a href="{% url 'my_courses_course' c.id %}">{{ c.course.name }}</a>{% if c.is_completed %} <b>Completed</b>{% endif %}</h2>
 <div class="block is-family-secondary">{{ c.course.short_description | markdown | safe }}</div>
 <div class="block columns">
  <div class="column">
   <p class="is-family-secondary">Modules: <b>{{ c.completed_modules }}/{% course_module_count c.course %} complete</b></p>
  </div>
  {% get_next_deadline c as deadline %}
  {% if deadline %}
   <div class="column is-narrow">
    <p class="is-family-secondary">Next deadline: <b>{{ deadline }}</b></p>
   </div>
  {% endif %}
 </div>
</div>

{% endfor %}

{% endblock %}
