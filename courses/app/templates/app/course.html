{% extends 'app/base.html' %}

{% block title %}Courses | {{ course.name }}{% endblock %}

{% block content %}

{% load markdown_tags %}
{% load bulma_tags %}

<div class="box">
 <div class="block">
  <div class="columns is-vcentered">
   <div class="column">
    <h1 class="title">{{ course.name }}</h1>
   </div>
   <div class="column is-narrow">
    <button class="button is-warning is-size-6 modal-button" data-target="modal" aria-haspopup="true">Sign up</button>
   </div>
  </div>
 </div>
 <div class="block is-family-secondary">{{ course.description | markdown | safe }}</div>

 {% if modules %}
 <div class="block">
  <h2 class="subtitle">Modules</h2>
  {% for m in modules %}
   <hr>
   <h2 class="subtitle">{{ m.name }}</h2>
   <div class="is-family-secondary">{{ m.short_description }}</div>
  {% endfor %}
 </div>
 {% endif %}
 

</div>

<div class="modal" id="modal">
  <div class="modal-background"></div>
  <div class="modal-content">
   <div class="column is-narrow is-three-fifths is-offset-one-fifth"><div class="box">
    {% include 'app/course_signup_form.html' with course=course form=form %}
   </div></div>
  </div>
  <button class="modal-close is-large" aria-label="close"></button>
</div>

{% endblock %}